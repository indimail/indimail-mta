RELEASE NOTES
=============
DATE: Sat Sep  2 10:33:08 IST 2017

Announcing Release 2.2 of IndiMail. This release has both source.tar.gz, RPMs and debs.

Following are the main features of this release

o OpenSSL 1.1.0 ready
o svscanboot/svscan option run .svscan/run or INITCMD. This can be used to run
  unshare --mount option and mount private mounts like custom resolv.conf
o svscan - added ability to run a custom shutdown command on svscan shutdown
o added inotify program to get file system events
o added resolvconf service for a custom /etc/resolv.conf
o qmail-remote - use X-SMTPROUTES env variable for setting artificial smtp routes.
  SMTPROUTES takes precendence over X-SMTPROUTES. This allows emails to be routed
  using X-SMTPROUTES in email header.
o use environment variable SMTPROUTEFILE, QMTPROUTEFILE, MORESMTPROUTECDB to
  configure smtproutes, qmtproutes, moresmtproutes.cdb filenames
o refactored dns_text() function in libdkim, surblfilter.c, dns_text.c, dns.c
o Upgraded courier-imap to 4.18.0 for openssl 1.1.0
o Upgraded fetchmail to version 6.4.0
o Updated defaults.inc.php for roundcube 1.3
o qmail-smtpd, qmail-remote - improved logging of TLS method errors


This release includes the following files

README-2.2                (Introduction to IndiMail)
INSTALL-2.2               (Source Installation Instructions)
INSTALL-RPM-2.2           (Install Instructions using RPM)
INSTALL-MYSQL-2.2         (MySQL specific Installation Instructions)
README-CLUSTER              (Steps on configuring a clustered setup)
Quick-INSTALL-2.2         (A minimal documentation on Installation/Configuration)
RELEASE-Notes-2.2         (This file)
indimail-2.2.tar.gz       (IndiMail source)


IndiMail has two RPM / DEB / yum / apt repositories for most of the Linux Distros at

Stable Releases
---------------

Repository Location
http://download.opensuse.org/repositories/home:/indimail/

Install Instructions
https://software.opensuse.org/download.html?project=home%3Aindimail&package=indimail


Bleeding Edge Releases
----------------------
IndiMail has RPM / yum repositories for the latest features being added. You will find
the RPMs at

Repository Location
http://download.opensuse.org/repositories/home:/mbhangui/

Install Instructions
https://software.opensuse.org/download.html?project=home%3Ambhangui&package=indimail


Currently, the list of supported distributions for IndiMail is

    * SUSE
          o openSUSE_Leap_42.2
          o openSUSE 13.2
          o openSUSE 13.1
          o SUSE Linux Enterprise 12 SP2
          o SUSE Linux Enterprise 12 SP1
          o SUSE Linux Enterprise 12

    * Red Hat
          o Fedora 25
          o Fedora 24
          o Red Hat Enterprise Linux 7
          o Red Hat Enterprise Linux 6
          o CentOS 7
          o CentOS 6

    * Debian
          o Debian 8.0
          o Debian 7.0
          o Ubuntu 17.04
          o Ubuntu 16.10
          o Ubuntu 16.04
          o Ubuntu 14.04
          o Ubuntu 12.04


ChangeLog
=========
Release 2.2 Start 08/05/2017
1.  indiversion.c - Fixed authindi path
2.  use packetsize > 512 to avoid dkim failures for sites having long txt
    records (hotmail.com)
3.  fixed default domain in cronlist, svctool, create_services, config-fast
4.  svscanboot/svscan option run .svscan/run or INITCMD. Use unshare --mount
    option to mount private mounts like custom resolv.conf
5.  svctool - --svscanlog - create .svscan/run and variables in .svscan/variables
6.  svscan - run .svscan/shutdown on SIGTERM
7.  added inotify program to get file system events
8.  added resolvconf service
9.  qmailctl bug - use sysconfdir instead of INDIMAILDIR
10. qmail-remote - use X-SMTPROUTES env variable for setting artificial smtp routes.
    SMTPROUTES takes precendence over X-SMTPROUTES
11. use environment variable SMTPROUTEFILE, QMTPROUTEFILE, MORESMTPROUTECDB to
    configure smtproutes, qmtproutes, moresmtproutes.cdb filenames
12. smtpd.c - fixed spurious error "no valid cert for gateway
13. qmail-remote.c - fix for SMTPROUTE of the form
    domain:x.x.x.x::penalty:max_tolerance username password
14. refactored dns_text() function in libdkim, surblfilter.c, dns_text.c,
    dns.c
15. dkimverify.cpp - replace strtok() with strtok_r() for thread safe
    operation.
16. Port for openssl 1.1.0
17. Upgraded courier-imap to 4.18.0 for openssl 1.1.0
18. Updated defaults.inc.php for roundcube 1.3
19. smtpd.c - replaced SSLv23_server_method() with TLS_server_method()
20. smtpd.c - fixed ifdefs for openssl 1.0.1 version.
21. qmail-remote.c replaced SSLv23_client_method() with TLS_client_method()
22. use tlsclientmethod, tlsservermethod control files only for openssl
    version < 1.0.1
23. qmail-smtpd, qmail-remote - improved logging of TLS method errors
24. ismaildup.c - added #ifdef for openssl 1.1.0
25. smtpd.c qmail-remote.c - fixed readling of tlsservermethod, tlsclientmethod control file
26. smtpd.c - initialize proto.len in smtp_init()
27. qmail-showctl - fixed SIGSEGV
28. upgraded fetchmail to version 6.4.0
29. libdkim - dns.cpp. fixed double free of dnresult causing SIGSEGV
30. skip envdir if .svscan/variables directory is missing
