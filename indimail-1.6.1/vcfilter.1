.LL 8i
.TH vcfilter 1
.SH NAME
vcfilter \- create, modify, delete vfilters

.SH SYNOPSYS
.PP
\fBvcfilter\fR [\fIoptions\fR] \fIemailid\fR [\fImailing_list1\fR..\fImailing_listn\fR]
\fBvcfilter\fR \fB\-m\fR \fIemailid\fR [\fIoptions\fR] [\fImailing_list1\fR..\fImailing_listn\fR]

.SH DESCRIPTION
\fBvcfilter\fR is a utility for creating, modifying, deleting IndiMail's powerful filter
called as vfilter. There are two options; one for administration of filters and another for
administration of mailing lists subscribed by the user. For mailing lists special action needs
to be performed by \fBvfilter\fR, so that valid mails do not get rejected. Currently, \fBvcfilter\fR
allows maximum of 255 filters to be created.

The first form of usage is primarily for creating filters (though some amount of mailing list
updation is also possible). The second form of usage is for mailing list updation only.

.SH OPTIONS  (for filters)
.TP
\fB\-v\fR
Sets verbose option
.TP
\fB\-s\fR
Show Filters
.TP
\fB\-i\fR
add filter
.TP
\fB\-d\fR \fIfilter_no\fR
delete filter(s)
.TP
\fB\-u\fR \fIfilter_no\fR
update filter
.TP
\fB\-t\fR \fIfilter_name\fR
Textual name for the filter
.TP
\fB\-h\fR
header value. A number denoting the following

 -1 – If comparison (-c option) is 5 or 6
  0 – Return-Path
  1 – From
  2 – Subject
  3 – To
  4 – Cc
  5 – Bcc
  6 – Reply-To
  7 – Sender        
  8 – List-Id
  9 – Mailing-List
 10 – X-Sender
 11 – X-Mailing-List
 12 – X-ML-Name
 13 – X-List   
 14 – X-Loop
 15 – X-BeenThere
 16 – X-Sequence
 17 – X-Mailer
 18 – Precedence
.TP 
\fB\-c\fR
Comparison with the headers to make. This could be one of the following number.

 0 – Equals
 1 – Contains
 2 – Does not contain
 3 – Starts with
 4 – Ends with
 5 – Sender not in address book
 6 – My ID not in To, Cc, Bcc
 7 – Numerical or Logical Expression
 8 - RegExp

 Note: Mailing List can be specified for Comparison 5 or 6

.TP
\fB\-k\fR \fIkeyword\fR
A keyword or string which will be used in comparison with the header value (depending on -c option). The string should be a NULL "" string if -c option is either 5 or 6. The keyword can also be any Regular Expression (i.e. *, ? [], etc) if comparison equals 7.
.TP
\fB\-f\fR \fIFolder\fR
Folder to which the mail should be delivered if a filter match occurs. This can be the Trash folder in case the mail needs to be rejected. It can be /NoDeliver if the mail needs to be discarded completely.

.TP
\fB\-b\fR \fIbounce_action\fR
 bounce_action can be one of the four numbers
 0 – Do not bounce
 1 – Bounce mail to sender with the following custom message
     "Hi. This is the IndiMail MDA for <domain_name>.
     I'm afraid I cannot accept your message as my SPAM filter has decided
     to reject this email.
     Please refrain from sending such mail in future."
 2 – Forward mail to address following the number. An ampersand '&' sign must separate
     the number and the address. i.e. 3&editor@indi.comwill forward all rejected mails
	 to the mailbox editor@indi.com
 3 – Same as above but bounce as well.

.TP
\fImailing_list1\fR...\fImailing_listn\fR
List of mailing lists which should be recognized by vfilter (if the filter comparison
(-c option) is 5 or 6. This could also be a NULL "" string in which case, vfilter will
intelligently try to figure out mails from mailing lists.

.SH OPTIONS  (for mailing lists)
.TP
\fB\-v\fR
Sets verbose option
.TP
\fB\-m\fR
Show Mailing list which should be allowed in case filter rule rejects the mail.
.TP
\fB\-i\fR
add mailing lists
.TP
\fB\-D\fR
delete mailing lists
.TP
\fB\-U\fR \fIold_mailing_list_name\fR \fInew_mailing_list_name\fR
Change name of an existing mailing list to another name.
.TP
\fB\-o\fR \fIoption\fR (used only for comparison 5 or 6)
Change behavior when figuring out mailing lists for comparison 5 or 6. Following are the valid options

 0 – Do not consider mailing lists in filtering
 1 – Consider mailing lists while filtering intelligently
 2 – Consider only mailing lists specified in the filter when filtering.

.TP
\fImailing_list1\fR...\fImailing_listn\fR
List of mailing lists to be added or deleted.

.SH RETURN VALUE
Returns 0 for success, 1 for any failure.

.SH "SEE ALSO"
vfilter(8), vdelivermail(8)
