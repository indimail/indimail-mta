   IndiMail supports two types of virtual domains

   1. Non-Clustered domain - A domain existing on a single server
   2. Clustered domain - A domain extended across multiple servers, with each
      server having its own set of users.

    Creating a non-clustered Domain
    -------------------------------

    % sudo rpm -ivh indimail-@version@-1.1.i386.rpm
    % cd /var/indimail/control
    % su
    # echo "localhost:indimail:ssh-1.5-:/tmp/mysql.sock" > host.mysql
    # /var/indimail/sbin/initsvc -on
    # exit

    NOTE: replace localhost, indimail, ssh-1.5-, /tmp/mysql.sock as relevant to your MySQL
    installation. You can use 3306 instead of /tmp/mysql.sock in case your MySQL
    database is on another host.
    you must use host:user:password:socket or host:user:password:port format
    for host.cntrl (for IndiMail 1.6.9 and above)

    Ensure MySQL is running

    The RPM installation creates MySQL service in down state. The service will
    not come up unless you use the command svc -u. Also to ensure that the
    service comes up automatically after system reboot, remove the file 'down'

    % sudo rm /service/mysql.3306/down
    % sudo svc -u /service/mysql.3306

    % sudo /var/indimail/bin/svstat /service/mysql.3306
    /service/mysql.3306: up (pid 11936) 3927 seconds

    % sudo /var/indimail/bin/vadddomain example.com pass
    % vuserinfo postmaster@example.com
    % sudo /var/indimail/bin/vadduser testuser1@example.com pass
    % vuserinfo testuser1@example.com

    Creating a Clustered Domain
    ---------------------------

    % sudo rpm -ivh indimail-@version@-1.1.i386.rpm
    % cd /var/indimail/control
    % su
    # echo "localhost:indimail:ssh-1.5-:/tmp/mysql.sock" > host.cntrl
    # ln -s host.cntrl host.master
    # echo 192.168.1.100 > hostip (replace 192.168.1.100 with your mailserver IP)
    # /var/indimail/sbin/initsvc -on
    # exit

    NOTE: replace localhost, indimail, ssh-1.5-, /tmp/mysql.sock as relevant to your MySQL
    installation. You can use 3306 instead of /tmp/mysql.sock in case your MySQL
    database is on another host.
    you must use host:user:password:socket or host:user:password:port format
    for host.cntrl (for IndiMail 1.6.9 and above)

    Ensure MySQL is running

    The RPM installation creates MySQL service in down state. The service will
    not come up unless you use the command svc -u. Also to ensure that the
    service comes up automatically after system reboot, remove the file 'down'

    % sudo rm /service/mysql.3306/down
    % sudo svc -u /service/mysql.3306

    % sudo /var/indimail/bin/svstat /service/mysql.3306
    /service/mysql.3306: up (pid 11936) 3927 seconds

    % sudo /var/indimail/bin/vadddomain -D indimail -S localhost \
        -U indimail -P ssh-1.5- -p 3306 -c example.com pass
    % vuserinfo postmaster@example.com
    % sudo /var/indimail/bin/vadduser testuser1@example.com pass
    % vuserinfo testuser1@example.com
    % dbinfo -s

NOTE: You can email me at mbhangui@gmail.com, if you find this confusing or need any
help/clarification.
